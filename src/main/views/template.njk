{% extends "govuk/template.njk" %}
{% from "govuk/components/phase-banner/macro.njk" import govukPhaseBanner %}


{% block head %}
  <!-- Google Tag Manager -->
  <script {%- if cspNonce %} nonce="{{ cspNonce }}"{% endif %}>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(
      {'gtm.start': new Date().getTime(),event:'gtm.js'}
    );var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-N7NMJDR');
  </script>
  <!-- Dynatrace -->
  <script {%- if cspNonce %} nonce="{{ cspNonce }}"{% endif %} type="text/javascript" src="{{ jstag }}" crossorigin="anonymous">
  </script>

  {% include "webpack/css.njk" %}
{% endblock %}

{% block header %}
  {{ govukHeader({
    containerClasses: "govuk-width-container",
    serviceName: serviceName
  }) }}
{% endblock %}


{% block beforeContent %}
  {{ govukPhaseBanner({
    tag: {
      text: "beta"
    },
    html: feedback + languageToggle
  }) }}
{% endblock %}


{% block footer %}
  {{ govukFooter({
    meta: {
      items: footerLinks
    }
  }) }}
{% endblock %}

{% block bodyEnd %}
  {# Run JavaScript at end of the <body>, to avoid blocking the initial render. #}
  {% include "webpack/js.njk" %}
{% endblock %}
